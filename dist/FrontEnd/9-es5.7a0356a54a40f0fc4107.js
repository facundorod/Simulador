function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{BJHQ:function(t,e,n){"use strict";n.r(e),n.d(e,"UsersModule",(function(){return _}));var o=n("ofXK"),i=n("tyNb"),r=n("3Pt+"),s=n("fXoL"),a=n("1kSV"),c=["pwd"],b=["pwd2"];function u(t,e){1&t&&(s.Sb(0,"button",18),s.Ec(1,"Save changes"),s.Rb())}function l(t,e){1&t&&(s.Sb(0,"button",19),s.Ec(1,"Save changes"),s.Rb())}var m,d,f=((m=function(){function t(e,n){_classCallCheck(this,t),this.fb=e,this.activeModal=n,this.validPwd=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.initForm()}},{key:"initForm",value:function(){var t=this;this.formGroup=this.fb.group({newPassword:["",r.w.required],confirmPassword:["",r.w.required]}),this.formGroup.get("confirmPassword").valueChanges.subscribe((function(e){var n=t.formGroup.get("newPassword").value;t.validPwd=!(!e||!n||n!==e)})),this.formGroup.get("newPassword").valueChanges.subscribe((function(e){var n=t.formGroup.get("confirmPassword").value;t.validPwd=!(!e||!n||n!==e)}))}},{key:"onSubmit",value:function(){this.formGroup.valid&&this.activeModal.close(this.formGroup.get("newPassword").value)}},{key:"onClose",value:function(){this.activeModal.close(null)}},{key:"getForm",value:function(){return this.formGroup}},{key:"isValidPwd",value:function(){return this.validPwd}},{key:"toogleInput",value:function(){this.newPassword.nativeElement.type="password"===this.newPassword.nativeElement.type?"text":"password"}},{key:"toogleInput2",value:function(){this.confirmPassword.nativeElement.type="password"===this.confirmPassword.nativeElement.type?"text":"password"}}]),t}()).\u0275fac=function(t){return new(t||m)(s.Nb(r.e),s.Nb(a.a))},m.\u0275cmp=s.Hb({type:m,selectors:[["app-change-password"]],viewQuery:function(t,e){var n;1&t&&(s.Jc(c,!0),s.Jc(b,!0)),2&t&&(s.tc(n=s.fc())&&(e.newPassword=n.first),s.tc(n=s.fc())&&(e.confirmPassword=n.first))},decls:32,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-body"],[1,"form-group","row"],["for","newPassword",1,"col-sm-3","col-form-label"],[1,"col-sm-8"],[1,"input-group"],[1,"input-group-text"],["src","https://img.icons8.com/fluency/24/000000/lock-2.png"],["type","password","id","pwd","name","password","formControlName","newPassword",1,"form-control"],["pwd",""],["src","https://img.icons8.com/office/24/000000/visible.png",3,"click"],["type","password","id","pwd2","name","password","formControlName","confirmPassword",1,"form-control"],["pwd2",""],[1,"modal-footer"],["type","submit","class","btn btn-primary btn-save",4,"ngIf"],["type","submit","class","btn btn-primary btn-save","disabled","",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-primary","btn-save"],["type","submit","disabled","",1,"btn","btn-primary","btn-save"]],template:function(t,e){1&t&&(s.Sb(0,"form",0),s.ec("ngSubmit",(function(){return e.onSubmit()})),s.Sb(1,"div",1),s.Sb(2,"h3"),s.Ec(3,"Change password"),s.Rb(),s.Rb(),s.Sb(4,"div",2),s.Sb(5,"div",3),s.Sb(6,"label",4),s.Ec(7,"New Password"),s.Rb(),s.Sb(8,"div",5),s.Sb(9,"div",6),s.Sb(10,"div",7),s.Ob(11,"img",8),s.Rb(),s.Ob(12,"input",9,10),s.Sb(14,"div",7),s.Sb(15,"img",11),s.ec("click",(function(){return e.toogleInput()})),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(16,"div",3),s.Sb(17,"label",4),s.Ec(18,"Confirm Password"),s.Rb(),s.Sb(19,"div",5),s.Sb(20,"div",6),s.Sb(21,"div",7),s.Ob(22,"img",8),s.Rb(),s.Ob(23,"input",12,13),s.Sb(25,"div",7),s.Sb(26,"img",11),s.ec("click",(function(){return e.toogleInput2()})),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(27,"div",14),s.Cc(28,u,2,0,"button",15),s.Cc(29,l,2,0,"button",16),s.Sb(30,"button",17),s.ec("click",(function(){return e.onClose()})),s.Ec(31,"Cancel"),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.mc("formGroup",e.getForm()),s.zb(28),s.mc("ngIf",e.isValidPwd()),s.zb(1),s.mc("ngIf",!e.isValidPwd()))},directives:[r.y,r.m,r.g,r.b,r.l,r.f,o.l],styles:[".modal-body[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]{background-color:#b7a9e2}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#212529}.btn-save[_ngcontent-%COMP%]{background-color:#42336e;border:1px solid #42336e}.btn-save[_ngcontent-%COMP%]:hover{background-color:#fff;color:#42336e}"]}),m),p=n("AytR"),g=n("XNiG"),v=n("nm5K"),h=((d=function(){function t(e){_classCallCheck(this,t),this.api=e}return _createClass(t,[{key:"updateUser",value:function(t){var e=new g.a;return this.api.httpPut(p.a.api.user,t).subscribe((function(){e.next()}),(function(t){e.error(t)}),(function(){e.complete()})),e.asObservable()}}]),t}()).\u0275fac=function(t){return new(t||d)(s.ac(v.a))},d.\u0275prov=s.Jb({token:d,factory:d.\u0275fac,providedIn:"root"}),d),w=n("5eHb");function y(t,e){if(1&t){var n=s.Tb();s.Sb(0,"button",27),s.ec("click",(function(){return s.vc(n),s.gc().onSubmit()})),s.Ec(1," Update profile"),s.Rb()}}function S(t,e){1&t&&(s.Sb(0,"button",28),s.Ec(1," Update profile "),s.Rb())}var C,R,P,k=[{path:"my-profile",component:(C=function(){function t(e,n,o,i){_classCallCheck(this,t),this.userService=e,this.fb=n,this.toast=o,this.modal=i,this.loadUser(),this.initFormGroup()}return _createClass(t,[{key:"loadUser",value:function(){var t=JSON.parse(localStorage.getItem("authToken"));this.user={email:t.user.email,institution:t.user.institution,name:t.user.name,surname:t.user.surname,id_user:t.user.id_user}}},{key:"ngOnInit",value:function(){}},{key:"getForm",value:function(){return this.formGroup}},{key:"onChangePassword",value:function(){var t=this;this.modal.open(f).result.then((function(e){e&&(t.user.password=e)}))}},{key:"initFormGroup",value:function(){this.formGroup=this.fb.group({name:[this.user.name?this.user.name:"",r.w.required],surname:[this.user.surname?this.user.surname:"",r.w.required],password:[this.user.password?this.user.password:null],institution:[this.user.institution?this.user.institution:null],email:[this.user.email?this.user.email:"",r.w.required]})}},{key:"onSubmit",value:function(){var t=this;this.userService.updateUser(this.user).subscribe((function(){t.toast.toastrConfig.timeOut=1e3,t.toast.toastrConfig.positionClass="toast-bottom-full-width",t.toast.success("User updated successfully"),t.loadUser()}),(function(t){console.error(t)}))}}]),t}(),C.\u0275fac=function(t){return new(t||C)(s.Nb(h),s.Nb(r.e),s.Nb(w.b),s.Nb(a.b))},C.\u0275cmp=s.Hb({type:C,selectors:[["app-my-profile"]],decls:45,vars:3,consts:[[1,"container"],[1,"profile-header"],[1,"row"],[1,"col"],[1,"title"],[1,"container","form-data"],[3,"formGroup"],[1,"form-row"],[1,"form-group","col-md-6"],["for","inputEmail4"],[1,"input-group"],[1,"input-group-text"],["src","https://img.icons8.com/external-itim2101-flat-itim2101/24/000000/external-email-digital-marketing-itim2101-flat-itim2101.png"],["type","email","id","email","name","email","formControlName","email",1,"form-control"],["for","inputPassword4"],[1,"btn","btn-primary","btn-register",3,"click"],[1,"form-group"],["for","inputName"],["src","https://img.icons8.com/fluency/24/000000/employee-card.png"],["type","text","id","inputName","name","name","formControlName","name",1,"form-control"],["for","inputSurname"],["type","text","id","inputSurname","name","surname","formControlName","surname",1,"form-control"],["for","inputInstitution"],["src","https://img.icons8.com/office/24/000000/organization.png"],["type","text","id","inputInstitution","formControlName","institution",1,"form-control"],["type","submit","class","btn btn-primary btn-block btn-register",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary btn-block btn-register","disabled","",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","btn-register",3,"click"],["type","submit","disabled","",1,"btn","btn-primary","btn-block","btn-register"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.Sb(3,"div",3),s.Sb(4,"h3",4),s.Ec(5," My Profile "),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",5),s.Sb(7,"form",6),s.Sb(8,"div",7),s.Sb(9,"div",8),s.Sb(10,"label",9),s.Ec(11,"Email"),s.Rb(),s.Sb(12,"div",10),s.Sb(13,"div",11),s.Ob(14,"img",12),s.Rb(),s.Ob(15,"input",13),s.Rb(),s.Rb(),s.Sb(16,"div",8),s.Sb(17,"label",14),s.Ec(18,"Password"),s.Rb(),s.Sb(19,"div",10),s.Sb(20,"button",15),s.ec("click",(function(){return e.onChangePassword()})),s.Ec(21,"Change password"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(22,"div",16),s.Sb(23,"label",17),s.Ec(24,"Name"),s.Rb(),s.Sb(25,"div",10),s.Sb(26,"div",11),s.Ob(27,"img",18),s.Rb(),s.Ob(28,"input",19),s.Rb(),s.Rb(),s.Sb(29,"div",16),s.Sb(30,"label",20),s.Ec(31,"Surname"),s.Rb(),s.Sb(32,"div",10),s.Sb(33,"div",11),s.Ob(34,"img",18),s.Rb(),s.Ob(35,"input",21),s.Rb(),s.Rb(),s.Sb(36,"div",16),s.Sb(37,"label",22),s.Ec(38," Institution "),s.Rb(),s.Sb(39,"div",10),s.Sb(40,"div",11),s.Ob(41,"img",23),s.Rb(),s.Ob(42,"input",24),s.Rb(),s.Rb(),s.Cc(43,y,2,0,"button",25),s.Cc(44,S,2,0,"button",26),s.Rb(),s.Rb()),2&t&&(s.zb(7),s.mc("formGroup",e.getForm()),s.zb(36),s.mc("ngIf",e.getForm().valid),s.zb(1),s.mc("ngIf",!e.getForm().valid))},directives:[r.y,r.m,r.g,r.b,r.l,r.f,o.l],styles:["h3[_ngcontent-%COMP%]{font-size:2em;text-align:left}.form-data[_ngcontent-%COMP%], .profile-header[_ngcontent-%COMP%]{margin-top:3%}.btn-register[_ngcontent-%COMP%]:active, .btn-register[_ngcontent-%COMP%]:focus, .btn-register[_ngcontent-%COMP%]:hover, .btn-register[_ngcontent-%COMP%]:link, .btn-register[_ngcontent-%COMP%]:visited{background-color:#f3f1f5;color:#8e7cc3}.btn-register[_ngcontent-%COMP%]{background-color:#8e7cc3;border-color:#8e7cc3}.password-eye[_ngcontent-%COMP%]{cursor:pointer}"]}),C)}],O=((P=function t(){_classCallCheck(this,t)}).\u0275mod=s.Lb({type:P}),P.\u0275inj=s.Kb({factory:function(t){return new(t||P)},imports:[[i.d.forChild(k)],i.d]}),P),_=((R=function t(){_classCallCheck(this,t)}).\u0275mod=s.Lb({type:R}),R.\u0275inj=s.Kb({factory:function(t){return new(t||R)},providers:[h],imports:[[o.b,O,r.i,r.t]]}),R)}}]);